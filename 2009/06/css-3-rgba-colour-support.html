<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>CSS 3 RGBa Colour Support</title>

  <meta name="description" content="Developers have long been using PNGs to create semi-transparent backgrounds showing content through from underneath.  There are, however, a number of disadva...">

  <link rel="stylesheet" href="/css/main.min.css">

  <link rel="icon" href="data:;base64,iVBORw0KGgo=">

  <link rel="canonical" href="https://www.renyard.co.uk/2009/06/css-3-rgba-colour-support.html">
  <link rel="alternate" type="application/rss+xml" title="Ian Renyard" href="https://www.renyard.co.uk/feed.xml">
</head>

<header class="container">

  <nav class="navbar navbar-full navbar-dark bg-inverse">
    <a class="navbar-brand" href="/">Ian Renyard</a>

    <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#navCollapse">
      &#9776;
    </button>
    <ul class="nav navbar-nav collapse navbar-toggleable-xs" id="navCollapse">
      
        
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">Blog</a>
          </li>
        
      
        
      
        
      
        
          <li class="nav-item active">
            <a class="nav-link" href="/projects/">Side Projects</a>
          </li>
        
      
      
    </ul>
  </nav>

</header>


<article class="post container" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
    <h1 class="post-title" itemprop="name headline">CSS 3 RGBa Colour Support</h1>
    <p class="post-meta"><time datetime="2009-06-23T21:39:54+01:00" itemprop="datePublished">Jun 23, 2009</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ian Renyard</span></span> • <a href="https://www.renyard.co.uk/2009/06/css-3-rgba-colour-support.html#disqus_thread">Comments</a></p>

    <a href="https://twitter.com/share" class="twitter-share-button" data-via="renyard">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.5";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button"></div>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Developers have long been using PNGs to create semi-transparent backgrounds showing content through from underneath.  There are, however, a number of disadvantages to this technique.  It causes another HTTP request to the server, sometimes causing the page to be, momentarily, unreadable if the background colour does not work well with the text colour and, of course, IE6’s lack of native support for semi-transparency in PNG24 or PNG8.</p>

<p>CSS 3 introduces RGBa colours, which enable alpha transparency in any rule which usually accepts an RGB colour and simply extends the same syntax.  Currently a solid red background would be set:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>background-color:rbg(255,0,0);
</code></pre></div></div>

<p>This can now be given an alpha transparency by defining the colour as rgba and simply adding an opacity value on to the end:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>background-color:rbga(255,0,0,0.8);
</code></pre></div></div>

<p>The above gives a solid red background with 80% opacity.  If you’re using a browser with CSS 3 RGBa support, you’ll be able to see an example below set against a black and white background.</p>

<style type="text/css">
.black {
background-color:rgb(0,0,0);
}
.red	{
background-color:rgba(255,0,0,0.8);
}
</style>

<div class="black" style="width:300px; height:150px;">
<div class="red" style="position:relative; left:150px; width:300px; height:150px;">
</div>
</div>

<p><code><br />
&lt;style type="text/css"&gt;<br />
.black {<br />
background-color:rgb(0,0,0);<br />
}<br />
.red	{<br />
background-color:rgba(255,0,0,0.8);<br />
}<br />
&lt;/style&gt;<br />
&lt;div class="black" style="width:300px; height:150px;"&gt;<br />
&lt;div class="red" style="position:relative; left:150px; width:300px; height:150px;"&gt;<br />
&lt;/div&gt;<br />
&lt;/div&gt;<br />
</code></p>

<h3 id="browser-support">Browser Support</h3>

<p>Firefox and Safari introduced support for RGBa colours with version 3, both of which are relatively mature in the market.  Opera has added support in version 10, which is currently in beta, and, being based on webkit, Chrome has had support from the word go.</p>

<p>Notably absent from the party is Internet Explorer, so is all this effort wasted if we still need to provide the old semi-transparent PNG in order for large swathes of our users to see all this swishy transparency?</p>

<p>Luckily for us, IE supports a proprietary filter which we can use as a workaround to give an identical effect and has done since version 6!  The gradient filter requires a start and end colour in RGBa hex format.  By using the same colour as a start and end, we can create a solid background with the semi-transparency preserved:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#ccff0000,endColorStr=#ccff0000);
</code></pre></div></div>

<p>As you can see from the example, one thing to note here is that alpha value here comes first.  If you’re view this in IE, you should be able to see my <span style="text-decoration: line-through;">beautiful</span> example below</p>

<style type="text/css">
.black2 {
background-color:rgb(0,0,0);
}
.red2	{
background-color:rgba(255,0,0,0.8);
}
</style>

<div class="black2" style="width:300px; height:150px;">
<div class="red2" style="position:relative; left:150px; width:300px; height:150px; filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#ccff0000,endColorStr=#ccff0000);">
</div>
</div>

<p><code><br />
&lt;style type="text/css"&gt;<br />
.black {<br />
background-color:rgb(0,0,0);<br />
}<br />
.red	{<br />
background-color:rgba(255,0,0,0.8);<br />
}<br />
&lt;/style&gt;<br />
&lt;!--[IF IE]&gt;<br />
&lt;style type="text/css"&gt;<br />
.red	{<br />
filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#ccff0000,endColorStr=#ccff0000);<br />
}<br />
&lt;style&gt;<br />
&lt;![ENDIF]--&gt;<br />
&lt;div class="black" style="width:300px; height:150px;"&gt;<br />
&lt;div class="red" style="position:relative; left:150px; width:300px; height:150px;"&gt;<br />
&lt;/div&gt;<br />
&lt;/div&gt;<br />
</code></p>

<h3 id="the-end-of-1x1-transparent-pngs">The End of 1x1 transparent PNGs?</h3>

<p>So, does this mean we can finally implement semi-transparent backgrounds to our content without those pesky PNGs?  As always, it all depends on the browser share and needs of your individual site, but according to <a href="http://marketshare.hitslink.com/browser-market-share.aspx?qprid=2&amp;qpmr=40&amp;qpdt=1&amp;qpct=3&amp;qpcal=1&amp;qptimeframe=M&amp;qpsp=124&amp;qpnp=1">Net Applications report from May 2009</a>, over 90% of users are running a browser capable of CSS 3 or filter based RGBa background colours.</p>

<p>In most situations, a semi-transparent background is used to make text easier to read on a more complex background.  In this case it would usually be acceptable to gracefully degrade those browsers to a solid background colour and forgo the PNG altogether.  Just add an RGB background colour before the RGBa colour and give IE a transparent background as it will use it’s own filter instead:</p>

<style type="text/css">
.black3 {
background-color:rgb(0,0,0);
}
.red3	{
background-color:rgb(255,0,0);
background-color:rgba(255,0,0,0.8);
}
</style>

<p><!--[IF IE]></p>
<style type="text/css">
div.red3	{<br />
background:transparent !important;<br />
filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#ccff0000,endColorStr=#ccff0000);<br />
}<br />
</style>
<p><!--< ![ENDIF]--></p>
<div class="black3" style="width:300px; height:150px;">
<div class="red3" style="position:relative; left:150px; width:300px; height:150px;">
</div>
</div>
<p><code><br />
&lt;style type="text/css"&gt;<br />
.black {<br />
background-color:rgb(0,0,0);<br />
}<br />
.red	{<br />
background-color:rgb(255,0,0);<br />
background-color:rgba(255,0,0,0.8);<br />
}<br />
&lt;/style&gt;<br />
&lt;!--[IF IE]&gt;<br />
&lt;style type="text/css"&gt;<br />
.red	{<br />
background-color:transparent;<br />
filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#ccff0000,endColorStr=#ccff0000);<br />
}<br />
&lt;style&gt;<br />
&lt;![ENDIF]--&gt;<br />
&lt;div class="black" style="width:300px; height:150px;"&gt;<br />
&lt;div class="red" style="position:relative; left:150px; width:300px; height:150px;"&gt;<br />
&lt;/div&gt;<br />
&lt;/div&gt;<br />
</code></p>

  </div>

  <div id="disqus_thread"></div>
<script>
var disqus_config = function () {
  this.page.url = 'https://www.renyard.co.uk/2009/06/css-3-rgba-colour-support.html'; // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = '/2009/06/css-3-rgba-colour-support'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//renyard.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


</article>


<footer class="container">
<nav class="navbar navbar-full navbar-dark bg-inverse">
  <ul class="nav navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="https://github.com/renyard">
        <span class="fa fa-github"></span>
        GitHub
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://www.linkedin.com/in/renyard">
        <span class="fa fa-linkedin"></span>
        LinkedIn
      </a>
    </li>
  </ul>
</nav>
</footer>

<script>
  // Bootstrap tooltips require Tether and Bootstrap errors on load without it.
  // Stub window.Tether to prevent the error.
  window.Tether = function() {};
</script>

<script src="/js/lib.min.js"></script>


<script id="dsq-count-scr" src="//renyard.disqus.com/count.js" async></script>
